diff -urN zaptel-1.4.1.org/Makefile zaptel-1.4.1/Makefile
--- zaptel-1.4.1.org/Makefile	2007-03-23 03:11:12.000000000 +0100
+++ zaptel-1.4.1/Makefile	2007-04-18 23:05:43.346414984 +0200
@@ -145,7 +145,7 @@
 endif
 CFLAGS+=$(CFLAGS_PPC) $(CFLAGS_x86_64)
 LCFLAGS=-fPIC $(CFLAGS) -DBUILDING_TONEZONE
-KFLAGS=-I$(KINCLUDES) -O6
+KFLAGS=-I$(KINCLUDES) $(OPTFLAGS)
 KFLAGS+=-DMODULE -D__KERNEL__ -DEXPORT_SYMTAB -I$(KSRC)/drivers/net \
 	-Wall -I. -Wstrict-prototypes -fomit-frame-pointer -I$(KSRC)/drivers/net/wan -I$(KINCLUDES)/net
 ifneq (,$(wildcard $(KINCLUDES)/linux/modversions.h))
@@ -212,7 +212,7 @@
 all: menuselect.makeopts 
 	@$(MAKE) _all
 
-_all: $(if $(BUILD_MODULES),modules) programs $(LTZ_SO) $(LTZ_A)
+_all: programs $(LTZ_SO) $(LTZ_A)
 
 xpp-utils:
 ifeq (yes,$(BUILD_XPP))
@@ -386,7 +386,7 @@
 $(UTILSO): %.o: %.c
 	$(CC) $(CFLAGS) -o $@ -c $<
 
-install: all devices install-modules install-libs install-include install-xpp
+install: all devices install-libs install-include install-xpp
 ifeq ($(HOTPLUG_FIRMWARE),yes)
 	$(MAKE) -C firmware hotplug-install
 endif
